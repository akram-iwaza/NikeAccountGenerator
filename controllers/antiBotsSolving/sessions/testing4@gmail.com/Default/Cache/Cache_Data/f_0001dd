{"version":3,"sources":["webpack:////tmp/jenkins/workspace/nts_nike_shop-components_1.156.0/.yarn/__virtual__/@nike-nr-static-data-context-virtual-e2207a4e72/1/packages/static-data-context/es/static-data-context.js","webpack:////tmp/jenkins/workspace/nts_nike_shop-components_1.156.0/.yarn/__virtual__/@nike-nr-static-data-context-virtual-e2207a4e72/1/packages/static-data-context/es/static-data-provider.js","webpack:///./src/components/error-message-product-info/index.js","webpack:///./src/components/error-warning-dialog/ErrorWarningDialog.js","webpack:///./src/components/message-info/MessageInfo.js","webpack:///./src/components/message-info/index.js","webpack:///./src/components/message-text/index.js","webpack:///./src/components/message/Message.js","webpack:///./src/components/message/styles.js","webpack:///./src/create-static-translations-fetcher.js","webpack:///./src/hooks/use-i18nString.js","webpack:///./src/selectors/get-cart-item-id-from-error-field.js","webpack:///./src/selectors/get-cart-items-from-error.js","webpack:///./src/selectors/get-latest-cart-error.js","webpack:///./src/styles/components/FlexBox.js"],"names":["StaticDataContext","createContext","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_createSuperInternal","result","Super","NewTarget","this","constructor","arguments","apply","StaticDataProvider","_React$Component","_super","props","_this","state","ready","init","bind","key","value","componentDidMount","fetchStaticData","_this2","then","data","setState","render","renderResult","shouldBlockRender","children","createElement","Provider","Component","node","isRequired","func","bool","LazyErrorMessageProductInfo","React","lazy","LazyDialog","LazyTranslatableString","LazyNikeI18nProvider","ErrorWarningDialog","onClose","language","country","message","crcCode","promoDetail","servicePath","isPageCart","getIsPageCart","handleOnClose","code","window","NikeShop","removePromotionCodes","internalProps","isOpen","onOverlayClick","messageToRender","reasons","renderCallToAction","data-automation-id","onClick","stringKey","primaryValue","description","element","href","get","cartHref","componentType","PrimaryDarkButton","data-automation","createStaticTranslationsFetcher","Consumer","fromLocPlatform","currentLanguageTag","translations","FALLBACK_STRING_KEY","FALLBACK_PRIMARY_VALUE","MessageInfo","i18nString","useI18nString","rest","productIds","length","crcLocalization","indexOf","connect","mapStateToProps","cartItemId","getCartItemIdFromErrorField","cartItem","getCartItemById","cartItemsFromError","getCartItemFromError","itemsRemoved","productId","map","item","MessageText","tokens","spacing","Message","useEffect","trackEvent","errorCode","reasonCodes","uniqueReasonCodes","Set","flexDirection","reasonCode","ReasonCopy","MessageContainer","FlexBox","MessageHeader","CodeText","CallToActionSection","s3env","getStaticData","resource","CART_UX_NAMESPACE","host","HOST_NAME","resourcePath","file","catch","useContext","NikeI18nContext","createSelector","getLatestCartError","error","field","replace","getCartItemsFromError","items","getFilteredCartErrors","errors","display","alignContent","alignItems","flexWrap","flexGrow","flexBasis","justifyContent","flex","minWidth"],"mappings":"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","file":"30.chunk.a0fc41.js","sourcesContent":["import React from 'react';\nvar StaticDataContext = /*#__PURE__*/React.createContext({});\nexport default StaticDataContext;","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { canUseDOM } from 'exenv';\nimport StaticDataContext from './static-data-context';\n\nvar StaticDataProvider = /*#__PURE__*/function (_React$Component) {\n  _inherits(StaticDataProvider, _React$Component);\n\n  var _super = _createSuper(StaticDataProvider);\n\n  function StaticDataProvider(props) {\n    var _this;\n\n    _classCallCheck(this, StaticDataProvider);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      ready: false\n    };\n    _this.init = _this.init.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(StaticDataProvider, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (canUseDOM && this.props.fetchStaticData) {\n        this.init();\n      }\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      this.props.fetchStaticData().then(function (data) {\n        _this2.setState(data);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var renderResult = this.props.shouldBlockRender ? this.state.ready && this.props.children : this.props.children;\n      return /*#__PURE__*/React.createElement(StaticDataContext.Provider, {\n        value: this.state || {}\n      }, renderResult);\n    }\n  }]);\n\n  return StaticDataProvider;\n}(React.Component);\n\n_defineProperty(StaticDataProvider, \"contextType\", StaticDataContext);\n\n_defineProperty(StaticDataProvider, \"propTypes\", {\n  children: PropTypes.node.isRequired,\n  fetchStaticData: PropTypes.func,\n  shouldBlockRender: PropTypes.bool\n});\n\n_defineProperty(StaticDataProvider, \"defaultProps\", {\n  shouldBlockRender: false\n});\n\nexport { StaticDataProvider as default };","import React from 'react';\n\nconst LazyErrorMessageProductInfo = React.lazy(() =>\n  import(/* webpackChunkName: \"ErrorMessageProductInfo\" */ './ErrorMessageProductInfoStaticData'),\n);\n\nexport default LazyErrorMessageProductInfo;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { StaticDataProvider, StaticDataContext } from '@nike/nr-static-data-context';\nimport { LinkWithAnalytics } from '@nike/nr-links';\nimport { PrimaryDarkButton } from '@nike/nr-buttons';\nimport { CloseButton } from '@nike/nr-sole-modal';\nimport createStaticTranslationsFetcher from '../../create-static-translations-fetcher';\nimport Message from '../message/Message';\nimport getIsPageCart from '../../get-is-page-cart';\n\nconst LazyDialog = React.lazy(() => import(/* webpackChunkName: \"Dialog\" */ '../dialog/Dialog'));\nconst LazyTranslatableString = React.lazy(() =>\n  import(/* webpackChunkName: \"TranslatableString\" */ '../i18n-react/translatable-string'),\n);\nconst LazyNikeI18nProvider = React.lazy(() =>\n  import(/* webpackChunkName: \"NikeI18nProvider\" */ '../i18n-react/i18n-provider'),\n);\n\n// NOTE - we tried putting ErrorMessage in a separate file but an invariant error took up way too much time. Combining them made it\nconst ErrorWarningDialog = ({\n  onClose,\n  language,\n  country,\n  message,\n  crcCode,\n  promoDetail,\n  servicePath,\n}) => {\n  const isPageCart = getIsPageCart();\n\n  let handleOnClose = promoDetail?.code\n    ? e => {\n        window.NikeShop.removePromotionCodes([promoDetail.code]);\n        // NOTE - no analytics being done here whatsoever\n        onClose(e);\n      }\n    : onClose;\n\n  const internalProps = {\n    isOpen: !!(message && crcCode),\n    onClose: handleOnClose,\n    onOverlayClick: handleOnClose,\n  };\n  // on purpose speeding up the render of these components with cached responses to prevent flicker of modal content expanding the modal\n  const messageToRender = message && crcCode && (\n    <Message\n      message={message}\n      crcCode={crcCode}\n      onClose={handleOnClose}\n      country={country}\n      language={language}\n      reasons={promoDetail?.reasons}\n      servicePath={servicePath}\n      renderCallToAction={() =>\n        isPageCart ? (\n          <PrimaryDarkButton data-automation-id=\"error-close\" onClick={handleOnClose}>\n            <LazyTranslatableString\n              stringKey=\"error.errorMessage.OK\"\n              primaryValue=\"OK\"\n              description=\"OK\"\n              element={null}\n            />\n          </PrimaryDarkButton>\n        ) : (\n          <LinkWithAnalytics\n            href={\n              window?.NikeShop?.get()?.cartHref // NOTE - no analytics being done here whatsoever\n            }\n            componentType={PrimaryDarkButton}\n            data-automation-id=\"error-view-cart\"\n          >\n            <LazyTranslatableString\n              stringKey=\"error.errorMessage.viewCart\"\n              primaryValue=\"View Cart\"\n              description=\"View Cart\"\n              element={null}\n            />\n          </LinkWithAnalytics>\n        )\n      }\n    />\n  );\n\n  return (\n    <LazyDialog {...internalProps} data-automation=\"cart-error-dialog\">\n      <CloseButton onClick={handleOnClose} />\n      {message && (\n        <StaticDataProvider\n          shouldBlockRender\n          fetchStaticData={createStaticTranslationsFetcher({\n            language,\n          })}\n        >\n          <StaticDataContext.Consumer>\n            {data =>\n              data.ready && (\n                <LazyNikeI18nProvider\n                  fromLocPlatform={false}\n                  currentLanguageTag={data.language}\n                  translations={{ [data.language]: data.translations }}\n                >\n                  {messageToRender}\n                </LazyNikeI18nProvider>\n              )\n            }\n          </StaticDataContext.Consumer>\n        </StaticDataProvider>\n      )}\n    </LazyDialog>\n  );\n};\nErrorWarningDialog.propTypes = {\n  language: PropTypes.string,\n  country: PropTypes.string,\n  onClose: PropTypes.func,\n  crcCode: PropTypes.string,\n  message: PropTypes.string,\n  servicePath: PropTypes.string,\n  promoDetail: PropTypes.shape({\n    code: PropTypes.string,\n    reasons: PropTypes.arrayOf(\n      PropTypes.shape({\n        code: PropTypes.string,\n        value: PropTypes.string,\n      }),\n    ),\n  }),\n};\n\nexport default ErrorWarningDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MessageText from '../message-text';\n// check turning import of ErrorMessageProductInfo dynamic\nimport ErrorMessageProductInfo from '../error-message-product-info';\nimport useI18nString from '../../hooks/use-i18nString';\n\nexport const FALLBACK_STRING_KEY = 'generic.error.message';\nexport const FALLBACK_PRIMARY_VALUE =\n  'We had an issue with your request. If you continue experiencing issues, try refreshing the page.';\nconst MessageInfo = props => {\n  const { i18nString } = useI18nString();\n  const { crcCode, ...rest } = props;\n  // if error has a product id associated with it, show errored item details\n  if (props.productIds?.length) return <ErrorMessageProductInfo {...rest} />;\n  // otherwise if CRC code, return CRC specific message\n  const crcLocalization = i18nString({\n    // not sure that we need to give a fallback value.. maybe the or statement was there from early days when we didn't have everything hooked up?\n    stringKey: `${crcCode || FALLBACK_STRING_KEY}`,\n    primaryValue: crcCode,\n    description: 'CRC Code for Error Message',\n  });\n  const message =\n    // if no CRC specific message exists because we detect non prod characters from g11n module\n    crcLocalization.indexOf('≪≪') > -1\n      ? // return generic error message\n        i18nString({\n          stringKey: FALLBACK_STRING_KEY,\n          primaryValue: FALLBACK_PRIMARY_VALUE,\n          description: 'Default error message for CRC code',\n        })\n      : crcLocalization;\n  return <MessageText>{message}</MessageText>;\n};\n\nMessageInfo.propTypes = {\n  // passed in from parent\n  crcCode: PropTypes.string,\n  country: PropTypes.string,\n  language: PropTypes.string,\n  // connected\n  itemsRemoved: PropTypes.bool,\n  productIds: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport default MessageInfo;\n","import { connect } from 'react-redux';\nimport { getCartItemById } from '@nike/ux-tread-cart-redux';\nimport MessageInfo from './MessageInfo';\nimport getCartItemIdFromErrorField from '../../selectors/get-cart-item-id-from-error-field';\nimport getCartItemFromError from '../../selectors/get-cart-items-from-error';\n\nconst mapStateToProps = (state, props) => {\n  const cartItemId = getCartItemIdFromErrorField(state, props);\n  const cartItem = getCartItemById(state)(cartItemId);\n  // we include item info in some carts errors, as items get removed from cart in these cases before the modal renders\n  const cartItemsFromError = getCartItemFromError(state, props);\n  const itemsRemoved = Boolean(cartItemsFromError.length);\n  // currently only account for singular product from partner cart field errors - carts errors can have multiple products we need to display info for\n  if (cartItem || itemsRemoved) {\n    const productIds = cartItem?.productId\n      ? [cartItem?.productId]\n      : cartItemsFromError.map(item => item?.productId);\n    return {\n      productIds, // used for fetching product data to display\n      itemsRemoved,\n    };\n  }\n  return {};\n};\n\nexport default connect(mapStateToProps)(MessageInfo);\n","import styled from '@emotion/styled';\nimport tokens from '@nike/design-system-base';\n\n// Separated out for chunking import\nconst MessageText = styled('p')`\n  margin-bottom: ${tokens.spacing(4)};\n`;\n\nexport default MessageText;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  CallToActionSection,\n  CodeText,\n  MessageHeader,\n  MessageContainer,\n  ReasonCopy,\n} from './styles';\nimport MessageInfo from '../message-info';\nimport MessageText from '../message-text';\nimport trackEvent from '../../track-event';\n\nconst LazyTranslatableString = React.lazy(() =>\n  import(/* webpackChunkName: \"TranslatableString\" */ '../i18n-react/translatable-string'),\n);\n\nconst Message = ({\n  onClose,\n  crcCode,\n  country,\n  language,\n  message,\n  renderCallToAction,\n  reasons,\n  servicePath,\n}) => {\n  useEffect(() => {\n    if (crcCode) {\n      // NOTE Formerly \"Error Message Shown\", but renamed to \"Error Modal Viewed\" see slack thread for background: https://nikedigital.slack.com/archives/C0390EMTFKQ/p1689626434494649\n      trackEvent('Error Modal Viewed', { errorCode: crcCode, servicePath, message });\n    }\n  }, [crcCode, servicePath, message]);\n\n  const reasonCodes = reasons?.map(({ code }) => code);\n  const uniqueReasonCodes = [...new Set(reasonCodes)];\n\n  return (\n    <MessageContainer flexDirection=\"column\" data-automation=\"error-message-container\">\n      <MessageHeader>\n        <LazyTranslatableString\n          stringKey=\"error.errorMessage.header\"\n          primaryValue=\"Error\"\n          description=\"Error\"\n          element={null}\n        />\n      </MessageHeader>\n\n      <MessageInfo crcCode={crcCode} country={country} language={language} />\n      {uniqueReasonCodes?.map(reasonCode => (\n        // NOTE -_- I removed react fragment \"hack\" to avoid lint error for missing react key. If there was a different reason it was there just add comment for next time.\n        <LazyTranslatableString\n          key={`reason-code-key-${reasonCode}`}\n          stringKey={reasonCode}\n          primaryValue={reasonCode}\n          description=\"Reason code for promotion not applied warning\"\n          element={ReasonCopy}\n        />\n      ))}\n      {crcCode && (\n        <MessageText>\n          <CodeText>{`[ Code: ${crcCode} ]`}</CodeText>\n        </MessageText>\n      )}\n      {onClose && <CallToActionSection>{renderCallToAction()}</CallToActionSection>}\n    </MessageContainer>\n  );\n};\n\nMessage.propTypes = {\n  onClose: PropTypes.func,\n  renderCallToAction: PropTypes.func,\n  country: PropTypes.string,\n  language: PropTypes.string,\n  crcCode: PropTypes.string,\n  servicePath: PropTypes.string,\n  message: PropTypes.string,\n  reasons: PropTypes.arrayOf(\n    PropTypes.shape({\n      code: PropTypes.string,\n      value: PropTypes.string,\n    }),\n  ),\n};\n\nexport default Message;\n","import styled from '@emotion/styled';\nimport tokens from '@nike/design-system-base';\nimport FlexBox from '../../styles/components/FlexBox';\n\nexport const MessageContainer = styled(FlexBox)`\n  background: white;\n  padding: ${tokens.spacing(8)};\n`;\n\nexport const MessageHeader = styled('h2')`\n  font: var(--podium-cds-typography-320-to-1919-title4);\n  margin-bottom: ${tokens.spacing(5)};\n`;\n\nexport const CodeText = styled('span')`\n  font: var(--podium-cds-typography-body1-strong);\n  margin-bottom: ${tokens.spacing(8)};\n`;\n\nexport const ReasonCopy = styled('p')`\n  margin-bottom: ${tokens.spacing(4)};\n`;\n\nexport const CallToActionSection = styled('div')`\n  text-align: center;\n`;\n","import { CART_UX_NAMESPACE } from '@nike/cart-constants';\nimport getStaticData from '@nike/get-static-data';\nimport { HOST_NAME } from './constants';\n\nconst createStaticTranslationsFetcher =\n  ({ language, s3env = 'prod' }) =>\n  () =>\n    getStaticData({\n      s3env,\n      resource: CART_UX_NAMESPACE,\n      host: HOST_NAME + '/assets',\n      resourcePath: 'i18n',\n      file: language,\n    })\n      .then(translations => ({\n        ready: true,\n        translations,\n        language,\n      }))\n      .catch(() => ({\n        ready: true,\n        language,\n        translations: {},\n      }));\n\nexport default createStaticTranslationsFetcher;\n","import { useContext } from 'react';\nimport { NikeI18nContext } from '@nike/i18n-react';\n\nexport default function useI18nString() {\n  const { i18nString } = useContext(NikeI18nContext);\n  return { i18nString };\n}\n","import { createSelector } from 'reselect';\nimport getLatestCartError from './get-latest-cart-error';\n\n// Derives the cart item id from the field value found in an error\nconst getCartItemIdFromErrorField = createSelector(getLatestCartError, error =>\n  (error?.field || '').replace('items/', ''),\n);\n\nexport default getCartItemIdFromErrorField;\n","import { createSelector } from 'reselect';\nimport getLatestCartError from './get-latest-cart-error';\n\n// Derives the cart item from latest cart error\nconst getCartItemsFromError = createSelector(getLatestCartError, error => error?.items || []);\n\nexport default getCartItemsFromError;\n","import { createSelector } from 'reselect';\nimport getFilteredCartErrors from './get-filtered-cart-errors';\n\nconst getLatestCartError = createSelector(getFilteredCartErrors, errors => errors[0]);\n\nexport default getLatestCartError;\n","import styled from '@emotion/styled';\n/**\n * Component for defining a flex layout\n *\n * @param alignContent property sets the distribution of space between and around content items - https://developer.mozilla.org/en-US/docs/Web/CSS/align-content\n * @param alignItems controls the alignment of items on the Cross Axis - https://developer.mozilla.org/en-US/docs/Web/CSS/align-items\n * @param flexDirection sets how flex items are placed in the flex container defining the main axis and the direction (normal or reversed) - https://developer.mozilla.org/en-US/docs/Web/CSS/flex-direction\n * @param flexWrap - sets whether flex items are forced onto one line or can wrap onto multiple lines. If wrapping is allowed, it sets the direction that lines are stacked - https://developer.mozilla.org/en-US/docs/Web/CSS/flex-wrap\n * @param justifyContent - defines how the browser distributes space between and around content items along the main-axis - https://developer.mozilla.org/en-US/docs/Web/CSS/justify-content\n * @param flexGrow - sets the flex grow factor of a flex item's main size - https://developer.mozilla.org/en-US/docs/Web/CSS/flex-grow\n * @param flexBasis - sets the initial main size of a flex item - https://developer.mozilla.org/en-US/docs/Web/CSS/flex-basis\n * @param flex - sets how a flex item will grow or shrink to fit the space available in its flex container. Recommended by CSS-Tricks over using the individual properties - https://developer.mozilla.org/en-US/docs/Web/CSS/flex\n *\n * @remarks This component's props should be adjusted/expanded as needed as flex property requirements change\n *\n */\nconst FlexBox = styled.div(\n  ({\n    alignContent,\n    alignItems,\n    flexDirection,\n    flexWrap,\n    flexGrow,\n    flexBasis,\n    justifyContent,\n    flex,\n    minWidth,\n  }) => ({\n    display: 'flex',\n    alignContent,\n    alignItems,\n    flexDirection,\n    flexWrap,\n    flexGrow,\n    flexBasis,\n    justifyContent,\n    flex,\n    minWidth,\n  }),\n);\n\nexport default FlexBox;\n"],"sourceRoot":""}